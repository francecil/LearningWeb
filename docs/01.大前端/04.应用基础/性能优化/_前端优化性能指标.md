---
title: 前端优化性能指标
date: 2023-08-30 00:57:42
permalink: /pages/c6343d/
categories: 
  - 大前端
  - 应用基础
  - 性能优化
tags: 
  - 
titleTag: 草稿
---
## FMP 
- 定义：首次绘制有意义内容的时间
- 计算原则：页面结构趋于稳定。
- 计算方式：MutationObserver 监听页面结构变化，得到一个分数，分数变化最剧烈的时间点，则为 FMP

## LCP
- 定义：页面可视区域内可见的最大图像或文本块完成渲染的相对时间
- 计算方式：通过 PerformanceObserver 监听 LCP 指标，该指标可能会拿到多次，一般仅用第一次数据

```js
new PerformanceObserver((entryList) => {
    for (const entry of entryList.getEntries()) {
        console.log('LCP candidate:', entry.startTime, entry);
    }})
.observe({type: 'largest-contentful-paint', buffered: true});
```